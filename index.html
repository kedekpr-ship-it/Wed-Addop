<!doctype html>
<html lang="th">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Addop</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Kanit', 'Arial', sans-serif;
    }
    
    * {
      box-sizing: border-box;
    }
    
    .category-item {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .category-item:hover {
      transform: translateX(8px);
    }
    
    .product-card {
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.15);
    }
    
    .cart-button {
      transition: all 0.2s ease;
    }
    
    .cart-button:hover {
      transform: scale(1.05);
    }
    
    .add-to-cart-btn {
      transition: all 0.2s ease;
    }
    
    .add-to-cart-btn:hover {
      transform: scale(1.02);
    }
    
    .search-button {
      transition: all 0.2s ease;
    }
    
    .search-button:hover {
      transform: scale(1.05);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body>
  <div id="app" class="w-full min-h-full"><!-- Header -->
   <header class="w-full" style="background: #1E3A8A; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <div class="w-full max-w-7xl mx-auto px-6 py-4">
     <div class="flex items-center justify-between"><!-- Logo -->
      <div class="flex items-center gap-3">
       <div style="font-size: 40px;">
        üíª
       </div>
       <h1 id="storeName" style="color: #FFFFFF; font-size: 28px; font-weight: bold;">Addop Shop</h1>
      </div><!-- Search Bar -->
      <div class="flex-1 max-w-2xl mx-8">
       <div class="flex gap-2"><input id="searchInput" type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." class="flex-1 px-4 py-3 rounded-lg" style="border: 2px solid #E5E7EB; font-size: 16px; outline: none;"> <button id="searchButton" class="search-button px-6 py-3 rounded-lg" style="background: #10B981; color: #FFFFFF; font-weight: bold; border: none; cursor: pointer; font-size: 16px;"> üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ </button>
       </div>
      </div><!-- Cart Button --> <button id="cartButton" class="cart-button flex items-center gap-2 px-6 py-3 rounded-lg" style="background: #EF4444; color: #FFFFFF; font-weight: bold; border: none; cursor: pointer; font-size: 18px;"> üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id="cartCount">0</span>) </button>
     </div>
    </div>
   </header>
   <div class="w-full flex"><!-- Sidebar Categories -->
    <aside class="w-64" style="background: #F3F4F6; min-height: 100%; border-right: 2px solid #E5E7EB;">
     <div class="p-6">
      <h2 id="categoriesTitle" class="mb-4" style="color: #1F2937; font-size: 22px; font-weight: bold;">üìÇ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
      <div id="categoriesList" class="space-y-2"></div>
     </div>
    </aside><!-- Main Content -->
    <main class="flex-1" style="background: #FFFFFF;">
     <div class="p-8">
      <h2 id="featuredTitle" class="mb-6" style="color: #1F2937; font-size: 32px; font-weight: bold;">‚≠ê ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
      <div id="productGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
     </div>
    </main>
   </div>
  </div>
  <script>
    const defaultConfig = {
      primary_color: '#1E3A8A',
      surface_color: '#F3F4F6',
      text_color: '#1F2937',
      accent_color: '#10B981',
      cart_color: '#EF4444',
      font_family: 'Kanit',
      font_size: 16,
      store_name: 'IT SHOP PRO',
      search_placeholder: '‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤...',
      categories_title: 'üìÇ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤',
      featured_products_title: '‚≠ê ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥'
    };

    const categories = [
      { id: 1, name: '‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå', icon: 'üñ•Ô∏è' },
      { id: 2, name: '‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Å', icon: 'üíª' },
      { id: 3, name: '‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î', icon: '‚å®Ô∏è' },
      { id: 4, name: '‡πÄ‡∏°‡∏≤‡∏™‡πå', icon: 'üñ±Ô∏è' },
      { id: 5, name: '‡∏´‡∏π‡∏ü‡∏±‡∏á', icon: 'üéß' },
      { id: 6, name: '‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå', icon: 'üñ•Ô∏è' },
      { id: 7, name: '‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå', icon: 'üñ®Ô∏è' },
      { id: 8, name: '‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏™‡∏£‡∏¥‡∏°', icon: 'üîå' }
    ];

    const products = [
      // ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå
      { id: 1, name: 'HP Pavilion Gaming TG01', category: 1, price: 29990, image: 'https://mercular.s3.ap-southeast-1.amazonaws.com/images/products/2022/02/ihavecpu-intel-core-i5-12400-gtx-1660-ti-set-78-computer-set-icon.jpg', description: 'Intel Core i5-12400F, GTX 1660 Ti, 16GB RAM, 512GB SSD' },
      { id: 2, name: 'ASUS Mini PC PN50', category: 1, price: 15900, image: 'https://img.kwcdn.com/product/fancy/4c5a9445-7fca-4b57-a318-8a9d8c6e30e7.jpg?imageMogr2/auto-orient%7CimageView2/2/w/800/q/70/format/webp', description: 'AMD Ryzen 5 4500U, 8GB RAM, 256GB SSD, WiFi 6' },
      { id: 3, name: 'Dell Inspiron 24 AIO', category: 1, price: 32900, image: 'https://i5.walmartimages.com/asr/3915e02e-a8ca-4df4-9898-2ac6de8b291a.75f7371cbe250b7aed3f36edad5f7628.jpeg?odnHeight=768&odnWidth=768&odnBg=FFFFFF', description: 'Intel i5-1235U, 23.8" FHD Touch, 8GB RAM, 512GB SSD' },
      { id: 4, name: 'Lenovo ThinkStation P340', category: 1, price: 79900, image: 'https://platincdn.com/3498/pictures/PNRMTODLFD122202114427_workstation-precision-3640t-1.jpg', description: 'Intel Xeon W-1250, Quadro P2200, 32GB RAM, 1TB SSD' },
      
      // ‡πÇ‡∏ô‡πâ‡∏ï‡∏ö‡∏∏‡πä‡∏Å
      { id: 5, name: 'ASUS ROG Strix G15', category: 2, price: 49990, image: 'https://notebookspec.com/resize/420x310//storage/notebook/12689-notebook_12039_Tuf%20A15%20mecha%20grey-c.jpg', description: 'Ryzen 7 6800H, RTX 4060 8GB, 16GB RAM, 512GB SSD, 15.6" 144Hz' },
      { id: 6, name: 'Apple MacBook Air M2', category: 2, price: 42900, image: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400&h=400&fit=crop', description: 'M2 Chip 8-Core, 8GB RAM, 256GB SSD, 13.6" Retina' },
      { id: 7, name: 'Lenovo ThinkPad E14 Gen 4', category: 2, price: 27900, image: 'https://static-media.laptopoutlet.co.uk/catalog/product/4/4/44b1c597fee2bc4023ae27054ea4605f.jpg?height=650', description: 'Intel i5-1235U, 16GB RAM, 512GB SSD, 14" FHD IPS' },
      { id: 8, name: 'Acer Swift 3 SF314', category: 2, price: 24900, image: 'https://m.media-amazon.com/images/I/71AEHAOUm1L.jpg', description: 'Intel i5-1240P, 16GB RAM, 512GB SSD, 14" FHD IPS' },
      { id: 9, name: 'MSI Creator Z16P', category: 2, price: 89900, image: 'https://m.media-amazon.com/images/I/61qOM730aqL._AC_UF1000,1000_QL80_.jpg', description: 'Intel i9-12900H, RTX 3080 Ti, 32GB RAM, 2TB SSD, 16" QHD+' },
      
      // ‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î
      { id: 10, name: 'Razer BlackWidow V3', category: 3, price: 3990, image: 'https://www.jib.co.th/img_master/product/original/2021022314585345470_1.jpg', description: 'Mechanical Gaming, Green Switch, RGB Chroma, TH/EN' },
      { id: 11, name: 'Keychron K2 V2', category: 3, price: 3290, image: 'https://computerlounge.co.nz/cdn/shop/files/d886a0f7a92096d3239058d9d41fe23f19df1598_39718_1.jpg?v=1721004531&width=1200', description: 'Wireless Mechanical, Hot-swap, RGB, Gateron Brown' },
      { id: 12, name: 'Logitech MX Keys', category: 3, price: 3590, image: 'https://m.media-amazon.com/images/I/81HMAB0lVoL.jpg', description: 'Wireless, Bluetooth, Backlit, Multi-Device' },
      { id: 13, name: 'Microsoft Ergonomic', category: 3, price: 1790, image: 'https://m.media-amazon.com/images/I/41K3VJELoZL.jpg', description: 'Split Ergonomic Design, Wireless, Cushioned Palm Rest' },
      
      // ‡πÄ‡∏°‡∏≤‡∏™‡πå
      { id: 14, name: 'Logitech MX Master 3S', category: 4, price: 3590, image: 'https://numberonestore.net/image/cache/catalog/PRODUCT/COMPUTER%20ACCESSOIRES/GAMING%20MOUSE/LOGITECH/MX%20MASTER%203S/logitech-mx-master-3-mag-speed-ultrafast-scrolling-8k-dpi-quiet-clicks-multi-device-connection-performance-wireless-mouse%20(1)-550x550h.jpg', description: 'Wireless, 8000 DPI, MagSpeed Scroll, Multi-Device' },
      { id: 15, name: 'Razer DeathAdder V3', category: 4, price: 2490, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFR8C3ZkFsxmJASLJe1z-H1UcqodEVJQHciw&s', description: 'Gaming, 30000 DPI, Focus Pro Sensor, RGB Chroma' },
      { id: 16, name: 'Logitech Lift Vertical', category: 4, price: 2190, image: 'https://ae01.alicdn.com/kf/S0732e4b7ddbb4a56879c3c97a41dfacet.jpg', description: 'Ergonomic Vertical, Wireless, Silent Click, 4000 DPI' },
      { id: 17, name: 'Kensington Expert', category: 4, price: 3290, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpuQDh0G31vym0zGMjKlOsCOrdZfeLZscfpw&s', description: 'Wireless Trackball, Precision Scroll Ring, 4-Button' },
      
      // ‡∏´‡∏π‡∏ü‡∏±‡∏á
      { id: 18, name: 'HyperX Cloud Alpha', category: 5, price: 2990, image: 'https://m.media-amazon.com/images/I/51A-WtZZl4L._AC_UF894,1000_QL80_.jpg', description: 'Gaming Headset, Dual Chamber Drivers, Detachable Mic' },
      { id: 19, name: 'Sony WH-1000XM5', category: 5, price: 13900, image: 'https://m.media-amazon.com/images/I/51E4v+Fr9bL._AC_UF1000,1000_QL80_.jpg', description: 'Wireless ANC, 30hrs Battery, LDAC, Multi-Point' },
      { id: 20, name: 'Audio-Technica ATH-M50X', category: 5, price: 5490, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTetoAzxihjF5XAMm7yvobdND39lJhde8suw&s', description: 'Professional Monitor, 45mm Drivers, Detachable Cable' },
      { id: 21, name: 'Apple AirPods Pro 2', category: 5, price: 8990, image: 'https://images.unsplash.com/photo-1606841837239-c5a1a4a07af7?w=400&h=400&fit=crop', description: 'True Wireless, Active ANC, Adaptive Audio, MagSafe' },
      
      // ‡∏à‡∏≠‡∏°‡∏≠‡∏ô‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå
      { id: 22, name: 'ASUS TUF VG27AQ', category: 6, price: 9990, image: 'https://www.jib.co.th/img_master/product/original/20210831115913_46784_352_1.jpg', description: '27" IPS WQHD 2560x1440, 165Hz, 1ms, G-Sync Compatible' },
      { id: 23, name: 'LG 32UN880', category: 6, price: 18900, image: 'https://media.us.lg.com/transform/ecomm-PDPGallery-1100x730/c1103716-a073-42a4-9e9f-bba456bcffe3/32BN88U-B-Product-Gallery-Image-Right-side-view-with-Stand?io=transform:fill,width:596', description: '31.5" IPS 4K UHD, HDR10, USB-C 60W, Ergo Stand' },
      { id: 24, name: 'Samsung Odyssey G5', category: 6, price: 12900, image: 'https://cdn.mwave.com.au/images/400/samsung_odyssey_g5_34_165hz_uwqhd_1ms_curved_freesync_va_gaming_monitor_ac41938.jpg', description: '34" Curved UWQHD 3440x1440, 165Hz, 1ms, FreeSync' },
      { id: 25, name: 'ASUS ZenScreen MB16AC', category: 6, price: 7990, image: 'https://m.media-amazon.com/images/I/81ftWqCPTkL._AC_UF894,1000_QL80_.jpg', description: '15.6" Portable IPS FHD, USB-C, Auto-Rotate, Foldable' },
      
      // ‡∏õ‡∏£‡∏¥‡πâ‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå
      { id: 26, name: 'HP DeskJet 2820e', category: 7, price: 2990, image: 'https://th-media.apjonlinecdn.com/catalog/product/5/3/53N94C-1_T1708483838.png', description: 'All-in-One Inkjet, Print/Scan/Copy, WiFi, HP+ Ready' },
      { id: 27, name: 'Brother HL-L2375DW', category: 7, price: 5490, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA54baIYDxUF8k_SvxK9IGNen3dMWoKNJHDA&s', description: 'Laser Mono, 36ppm, Duplex, WiFi, 250-Sheet Tray' },
      { id: 28, name: 'Canon PIXMA PRO-200', category: 7, price: 18900, image: 'https://i5.walmartimages.com/asr/2a0563a2-5c6a-4663-8d04-f0e6cdab33ad.aef6ebaf4fef7645621a3824513259c6.jpeg?odnHeight=2000&odnWidth=2000&odnBg=FFFFFF', description: 'Photo Inkjet A3+, 8-Color Dye, WiFi, Ethernet' },
      { id: 29, name: 'DYMO LabelWriter 550', category: 7, price: 6990, image: 'https://m.media-amazon.com/images/I/71OlDb8pKzL._AC_UF1000,1000_QL80_.jpg', description: 'Thermal Label Printer, USB, PC/Mac, 71 Labels/min' },
      
      // ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÄ‡∏™‡∏£‡∏¥‡∏°
      { id: 30, name: 'Anker PowerExpand 7-in-1', category: 8, price: 890, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTj3L8Kng4BsfKvQ3G6_k4gA9qGTeylT9uQoA&s', description: 'USB 3.0 Hub, 7 Ports, 5Gbps, LED Indicator' },
      { id: 31, name: 'Logitech C920 HD Pro', category: 8, price: 2390, image: 'https://m.media-amazon.com/images/I/71XBy2BjaqL._AC_UF1000,1000_QL80_.jpg', description: 'Webcam 1080p 30fps, Stereo Mic, Auto Focus' },
      { id: 32, name: 'Samsung T7 Portable SSD', category: 8, price: 3290, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfpFmI1lLCSt0KPEYL8YibZ5HyOyF59H-gIQ&s', description: '1TB, USB 3.2 Gen2, 1050MB/s, Shock Resistant' },
      { id: 33, name: 'Satechi Type-C Pro Hub', category: 8, price: 2590, image: 'https://m.media-amazon.com/images/I/613y3FsoPtL.jpg', description: '6-in-1, 4K HDMI, USB-A 3.0, SD/microSD, USB-C PD' },
      { id: 34, name: 'Rain Design mStand', category: 8, price: 1490, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTe_4bysJ2KAt1qxk0mCEUBJzAMWdhfyEaHag&s', description: 'Aluminum Laptop Stand, Tilt Angle, Cable Management' },
      { id: 35, name: 'Baseus Cable Organizer', category: 8, price: 390, image: 'https://m.media-amazon.com/images/I/61-eX0v9tiL.jpg', description: 'Silicone, 5 Clips, Self-Adhesive, Desktop Mount' }
    ];

    let cart = [];
    let selectedCategory = 0;

    function renderCategories() {
      const categoriesList = document.getElementById('categoriesList');
      const allCategory = `
        <div class="category-item p-3 rounded-lg" style="background: ${selectedCategory === 0 ? (window.elementSdk?.config?.accent_color || defaultConfig.accent_color) : '#FFFFFF'}; color: ${selectedCategory === 0 ? '#FFFFFF' : (window.elementSdk?.config?.text_color || defaultConfig.text_color)}; font-weight: ${selectedCategory === 0 ? 'bold' : 'normal'};" data-category="0">
          <span style="font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
            üì¶ ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          </span>
        </div>
      `;
      
      const categoryItems = categories.map(cat => `
        <div class="category-item p-3 rounded-lg" style="background: ${selectedCategory === cat.id ? (window.elementSdk?.config?.accent_color || defaultConfig.accent_color) : '#FFFFFF'}; color: ${selectedCategory === cat.id ? '#FFFFFF' : (window.elementSdk?.config?.text_color || defaultConfig.text_color)}; font-weight: ${selectedCategory === cat.id ? 'bold' : 'normal'};" data-category="${cat.id}">
          <span style="font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
            ${cat.icon} ${cat.name}
          </span>
        </div>
      `).join('');
      
      categoriesList.innerHTML = allCategory + categoryItems;
      
      document.querySelectorAll('.category-item').forEach(item => {
        item.addEventListener('click', () => {
          selectedCategory = parseInt(item.dataset.category);
          renderCategories();
          renderProducts();
        });
      });
    }

    function renderProducts() {
      const productGrid = document.getElementById('productGrid');
      const filteredProducts = selectedCategory === 0 
        ? products 
        : products.filter(p => p.category === selectedCategory);
      
      const getCategoryName = (catId) => {
        const cat = categories.find(c => c.id === catId);
        return cat ? cat.name : '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏';
      };
      
      // Update title based on selected category
      const featuredTitle = document.getElementById('featuredTitle');
      if (selectedCategory === 0) {
        featuredTitle.textContent = window.elementSdk?.config?.featured_products_title || defaultConfig.featured_products_title;
      } else {
        const selectedCat = categories.find(c => c.id === selectedCategory);
        if (selectedCat) {
          featuredTitle.textContent = `${selectedCat.icon} ${selectedCat.name}`;
        }
      }
      
      productGrid.innerHTML = filteredProducts.map(product => `
        <div class="product-card p-5 rounded-xl" style="background: #FFFFFF; border: 2px solid #E5E7EB; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
          <div class="text-center mb-4" style="width: 100%; height: 240px; overflow: hidden; border-radius: 8px; background: #F9FAFB; display: flex; align-items: center; justify-content: center;">
            <img src="${product.image}" alt="${product.name}" style="width: 100%; height: 100%; object-fit: cover;" onerror="this.style.display='none'; this.parentElement.innerHTML='<div style=\'font-size: 80px;\'>üì¶</div>';">
          </div>
          <h3 style="color: ${window.elementSdk?.config?.text_color || defaultConfig.text_color}; font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.25}px; font-weight: bold; margin-bottom: 8px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
            ${product.name}
          </h3>
          <p style="color: #6B7280; font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 0.875}px; margin-bottom: 12px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
            ${product.description}
          </p>
          <div class="flex items-center justify-between mb-4">
            <span style="color: ${window.elementSdk?.config?.cart_color || defaultConfig.cart_color}; font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.5}px; font-weight: bold; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
              ‡∏ø${product.price.toLocaleString()}
            </span>
            <span style="color: #6B7280; font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 0.875}px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;">
              ${getCategoryName(product.category)}
            </span>
          </div>
          <button class="add-to-cart-btn w-full py-3 rounded-lg" style="background: ${window.elementSdk?.config?.accent_color || defaultConfig.accent_color}; color: #FFFFFF; font-weight: bold; border: none; cursor: pointer; font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px; font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;" data-product-id="${product.id}">
            üõí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
          </button>
        </div>
      `).join('');
      
      document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const productId = parseInt(e.target.dataset.productId);
          addToCart(productId);
        });
      });
    }

    function addToCart(productId) {
      const product = products.find(p => p.id === productId);
      if (product) {
        cart.push(product);
        updateCartCount();
        showCartNotification(product.name);
      }
    }

    function updateCartCount() {
      document.getElementById('cartCount').textContent = cart.length;
    }

    function showCartNotification(productName) {
      const notification = document.createElement('div');
      notification.textContent = `‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° "${productName}" ‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß`;
      notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: ${window.elementSdk?.config?.accent_color || defaultConfig.accent_color};
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px;
        font-weight: bold;
        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        z-index: 1000;
        font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;
      `;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 2000);
    }

    document.getElementById('cartButton').addEventListener('click', () => {
      if (cart.length === 0) {
        const notification = document.createElement('div');
        notification.textContent = '‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤';
        notification.style.cssText = `
          position: fixed;
          top: 100px;
          right: 20px;
          background: ${window.elementSdk?.config?.cart_color || defaultConfig.cart_color};
          color: white;
          padding: 16px 24px;
          border-radius: 8px;
          font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px;
          font-weight: bold;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
          z-index: 1000;
          font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;
        `;
        document.body.appendChild(notification);
        setTimeout(() => notification.remove(), 2000);
      } else {
        showCartModal();
      }
    });

    function showCartModal() {
      const total = cart.reduce((sum, item) => sum + item.price, 0);
      const baseSize = window.elementSdk?.config?.font_size || defaultConfig.font_size;
      const fontFamily = `${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif`;
      
      // Create modal backdrop
      const backdrop = document.createElement('div');
      backdrop.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.6);
        z-index: 9998;
        display: flex;
        align-items: center;
        justify-content: center;
      `;
      
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        background: white;
        border-radius: 16px;
        padding: 32px;
        max-width: 600px;
        width: 90%;
        max-height: 80%;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        z-index: 9999;
      `;
      
      // Cart items list
      const cartItemsHTML = cart.map((item, index) => `
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px; border-bottom: 1px solid #E5E7EB; font-family: ${fontFamily};">
          <div style="flex: 1;">
            <div style="font-size: ${baseSize * 1.125}px; font-weight: bold; color: ${window.elementSdk?.config?.text_color || defaultConfig.text_color};">${item.name}</div>
            <div style="font-size: ${baseSize * 0.875}px; color: #6B7280; margin-top: 4px;">${item.description}</div>
          </div>
          <div style="display: flex; align-items: center; gap: 12px;">
            <div style="font-size: ${baseSize * 1.25}px; font-weight: bold; color: ${window.elementSdk?.config?.cart_color || defaultConfig.cart_color};">‡∏ø${item.price.toLocaleString()}</div>
            <button class="remove-item-btn" data-index="${index}" style="background: #EF4444; color: white; border: none; border-radius: 6px; padding: 6px 12px; cursor: pointer; font-size: ${baseSize * 0.875}px; font-weight: bold; font-family: ${fontFamily};">‡∏•‡∏ö</button>
          </div>
        </div>
      `).join('');
      
      modal.innerHTML = `
        <div style="text-align: center; margin-bottom: 24px;">
          <h2 style="font-size: ${baseSize * 2}px; font-weight: bold; color: ${window.elementSdk?.config?.text_color || defaultConfig.text_color}; margin-bottom: 8px; font-family: ${fontFamily};">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
          <p style="font-size: ${baseSize}px; color: #6B7280; font-family: ${fontFamily};">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${cart.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</p>
        </div>
        
        <div style="margin-bottom: 24px; max-height: 400px; overflow-y: auto;">
          ${cartItemsHTML}
        </div>
        
        <div style="background: ${window.elementSdk?.config?.surface_color || defaultConfig.surface_color}; padding: 20px; border-radius: 12px; margin-bottom: 24px;">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span style="font-size: ${baseSize * 1.5}px; font-weight: bold; color: ${window.elementSdk?.config?.text_color || defaultConfig.text_color}; font-family: ${fontFamily};">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô:</span>
            <span style="font-size: ${baseSize * 1.75}px; font-weight: bold; color: ${window.elementSdk?.config?.cart_color || defaultConfig.cart_color}; font-family: ${fontFamily};">‡∏ø${total.toLocaleString()}</span>
          </div>
        </div>
        
        <div style="display: flex; gap: 12px;">
          <button id="confirmPurchaseBtn" style="flex: 1; background: ${window.elementSdk?.config?.accent_color || defaultConfig.accent_color}; color: white; border: none; border-radius: 12px; padding: 16px; font-size: ${baseSize * 1.25}px; font-weight: bold; cursor: pointer; font-family: ${fontFamily};">
            ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠
          </button>
          <button id="closeCartBtn" style="flex: 1; background: #6B7280; color: white; border: none; border-radius: 12px; padding: 16px; font-size: ${baseSize * 1.25}px; font-weight: bold; cursor: pointer; font-family: ${fontFamily};">
            ‚ùå ‡∏õ‡∏¥‡∏î
          </button>
        </div>
      `;
      
      backdrop.appendChild(modal);
      document.body.appendChild(backdrop);
      
      // Remove item buttons
      modal.querySelectorAll('.remove-item-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const index = parseInt(e.target.dataset.index);
          cart.splice(index, 1);
          updateCartCount();
          backdrop.remove();
          if (cart.length > 0) {
            showCartModal();
          } else {
            const notification = document.createElement('div');
            notification.textContent = '‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß';
            notification.style.cssText = `
              position: fixed;
              top: 100px;
              right: 20px;
              background: #6B7280;
              color: white;
              padding: 16px 24px;
              border-radius: 8px;
              font-size: ${baseSize * 1.125}px;
              font-weight: bold;
              box-shadow: 0 4px 12px rgba(0,0,0,0.2);
              z-index: 10000;
              font-family: ${fontFamily};
            `;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
          }
        });
      });
      
      // Confirm purchase button
      modal.querySelector('#confirmPurchaseBtn').addEventListener('click', () => {
        backdrop.remove();
        confirmPurchase(total);
      });
      
      // Close button
      modal.querySelector('#closeCartBtn').addEventListener('click', () => {
        backdrop.remove();
      });
      
      // Close on backdrop click
      backdrop.addEventListener('click', (e) => {
        if (e.target === backdrop) {
          backdrop.remove();
        }
      });
    }

    function confirmPurchase(total) {
      const baseSize = window.elementSdk?.config?.font_size || defaultConfig.font_size;
      const fontFamily = `${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif`;
      
      const notification = document.createElement('div');
      notification.innerHTML = `
        <div style="text-align: center;">
          <div style="font-size: 64px; margin-bottom: 12px;">‚úÖ</div>
          <div style="font-size: ${baseSize * 1.5}px; font-weight: bold; margin-bottom: 8px;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</div>
          <div style="font-size: ${baseSize * 1.125}px; margin-bottom: 4px;">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ${cart.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
          <div style="font-size: ${baseSize * 1.375}px; font-weight: bold;">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°: ‡∏ø${total.toLocaleString()}</div>
          <div style="font-size: ${baseSize * 0.875}px; margin-top: 12px; opacity: 0.9;">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ üôè</div>
        </div>
      `;
      notification.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: ${window.elementSdk?.config?.accent_color || defaultConfig.accent_color};
        color: white;
        padding: 40px 48px;
        border-radius: 16px;
        font-weight: bold;
        box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        z-index: 10000;
        font-family: ${fontFamily};
        animation: slideIn 0.3s ease;
      `;
      
      document.body.appendChild(notification);
      
      // Clear cart
      cart = [];
      updateCartCount();
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    document.getElementById('searchButton').addEventListener('click', () => {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      if (searchTerm) {
        const notification = document.createElement('div');
        notification.textContent = `üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: "${searchTerm}"`;
        notification.style.cssText = `
          position: fixed;
          top: 100px;
          left: 50%;
          transform: translateX(-50%);
          background: ${window.elementSdk?.config?.accent_color || defaultConfig.accent_color};
          color: white;
          padding: 16px 32px;
          border-radius: 8px;
          font-size: ${(window.elementSdk?.config?.font_size || defaultConfig.font_size) * 1.125}px;
          font-weight: bold;
          box-shadow: 0 4px 12px rgba(0,0,0,0.2);
          z-index: 1000;
          font-family: ${window.elementSdk?.config?.font_family || defaultConfig.font_family}, 'Kanit', 'Arial', sans-serif;
        `;
        document.body.appendChild(notification);
        setTimeout(() => notification.remove(), 2000);
      }
    });

    document.getElementById('searchInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        document.getElementById('searchButton').click();
      }
    });

    async function onConfigChange(config) {
      const header = document.querySelector('header');
      const storeName = document.getElementById('storeName');
      const searchInput = document.getElementById('searchInput');
      const searchButton = document.getElementById('searchButton');
      const cartButton = document.getElementById('cartButton');
      const sidebar = document.querySelector('aside');
      const categoriesTitle = document.getElementById('categoriesTitle');
      const featuredTitle = document.getElementById('featuredTitle');

      const customFont = config.font_family || defaultConfig.font_family;
      const baseFontStack = 'Kanit, Arial, sans-serif';
      const fontFamily = `${customFont}, ${baseFontStack}`;
      const baseSize = config.font_size || defaultConfig.font_size;

      header.style.background = config.primary_color || defaultConfig.primary_color;
      
      storeName.textContent = config.store_name || defaultConfig.store_name;
      storeName.style.fontSize = `${baseSize * 1.75}px`;
      storeName.style.fontFamily = fontFamily;

      searchInput.placeholder = config.search_placeholder || defaultConfig.search_placeholder;
      searchInput.style.fontSize = `${baseSize}px`;
      searchInput.style.fontFamily = fontFamily;

      searchButton.style.background = config.accent_color || defaultConfig.accent_color;
      searchButton.style.fontSize = `${baseSize}px`;
      searchButton.style.fontFamily = fontFamily;

      cartButton.style.background = config.cart_color || defaultConfig.cart_color;
      cartButton.style.fontSize = `${baseSize * 1.125}px`;
      cartButton.style.fontFamily = fontFamily;

      sidebar.style.background = config.surface_color || defaultConfig.surface_color;

      categoriesTitle.textContent = config.categories_title || defaultConfig.categories_title;
      categoriesTitle.style.color = config.text_color || defaultConfig.text_color;
      categoriesTitle.style.fontSize = `${baseSize * 1.375}px`;
      categoriesTitle.style.fontFamily = fontFamily;

      if (selectedCategory === 0) {
        featuredTitle.textContent = config.featured_products_title || defaultConfig.featured_products_title;
      }
      featuredTitle.style.color = config.text_color || defaultConfig.text_color;
      featuredTitle.style.fontSize = `${baseSize * 2}px`;
      featuredTitle.style.fontFamily = fontFamily;

      renderCategories();
      renderProducts();
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                config.primary_color = value;
                window.elementSdk.setConfig({ primary_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            },
            {
              get: () => config.cart_color || defaultConfig.cart_color,
              set: (value) => {
                config.cart_color = value;
                window.elementSdk.setConfig({ cart_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ['store_name', config.store_name || defaultConfig.store_name],
          ['search_placeholder', config.search_placeholder || defaultConfig.search_placeholder],
          ['categories_title', config.categories_title || defaultConfig.categories_title],
          ['featured_products_title', config.featured_products_title || defaultConfig.featured_products_title]
        ])
      });
    }

    renderCategories();
    renderProducts();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a5260dd3693893b',t:'MTc2NDI1NDQwMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>